<!doctype html>
<html class="docs-version-current" lang="es" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/es/blog/rss.xml" title="ZSC Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/es/blog/atom.xml" title="ZSC Docs Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="ZSC Docs" href="/es/opensearch.xml">
<script defer="defer" src="https://cdn.usefathom.com/script.js" spa="auto" site="AZMFWALB"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.6.0/web3.min.js" async></script><title data-react-helmet="true">Optics | ZSC Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.celo.org/es/celo-codebase/protocol/optics"><meta data-react-helmet="true" name="docsearch:language" content="es"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Optics | ZSC Docs"><meta data-react-helmet="true" name="description" content="Introduction to Optics, it&#x27;s core concepts, architecture, process, and implementation."><meta data-react-helmet="true" property="og:description" content="Introduction to Optics, it&#x27;s core concepts, architecture, process, and implementation."><link data-react-helmet="true" rel="icon" href="/es/img/color-favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.celo.org/es/celo-codebase/protocol/optics"><link data-react-helmet="true" rel="alternate" href="https://docs.celo.org/celo-codebase/protocol/optics" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.celo.org/es/celo-codebase/protocol/optics" hreflang="es"><link data-react-helmet="true" rel="alternate" href="https://docs.celo.org/celo-codebase/protocol/optics" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://55M4I38S60-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/es/assets/css/styles.2cd87a80.css">
<link rel="preload" href="/es/assets/js/runtime~main.db9ef84a.js" as="script">
<link rel="preload" href="/es/assets/js/main.090c3f00.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Saltar al contenido principal</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/es/"><div class="navbar__logo"><img src="/es/img/color-logo.png" alt="Celo Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/es/img/color-logo.png" alt="Celo Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">ZSC Docs</b></a><a class="navbar__item navbar__link" href="/es/developer-guide/overview">Build</a><a class="navbar__item navbar__link" href="/es/validator-guide/overview">Validate</a><a class="navbar__item navbar__link" href="/es/community/contributing">Community</a><a class="navbar__item navbar__link" href="/es/blog">Learn</a></div><div class="navbar__items navbar__items--right"><a href="https://medium.com/celoorg" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Español</span></span></a><ul class="dropdown__menu"><li><a href="/celo-codebase/protocol/optics" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/es/celo-codebase/protocol/optics" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">Español</a></li><li><a href="https://celo.crowdin.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help us translate</a></li></ul></div><a href="https://github.com/celo-org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_iYfV toggle_2i4l toggleChecked_a04y toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" checked="" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Buscar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Buscar</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/">Welcome to ZSC</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/es/learn/celo-highlights">Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/es/getting-started/wallets">Wallets</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/es/celo-holder-guide/owners">Owners</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/es/celo-codebase/protocol/bridging/bridging-to-celo">Bridging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/es/celo-codebase/protocol/oracles/oracles-on-celo">Oracles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/es/celo-codebase/protocol">Protocol</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/celo-codebase/protocol">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/es/celo-codebase/protocol/consensus">Consensus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/es/celo-codebase/protocol/proof-of-stake">Proof-of-Stake</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/celo-codebase/protocol/governance">Celo Governance</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/es/celo-codebase/protocol/stability">Stability Mechanism</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/es/celo-codebase/protocol/transactions">Transactions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/es/celo-codebase/protocol/identity">Identity</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/es/celo-codebase/protocol/optics">Optics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/celo-codebase/protocol/plumo">Plumo Ultralight Sync</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/es/getting-started/choosing-a-network">Networks</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/developer-guide/celo-dapp-gallery">Gallery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/faqs">FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/es/command-line-interface/introduction">Command Line</a></div></li></ul></nav><button type="button" title="Colapsar barra lateral" aria-label="Colapsar barra lateral" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">En esta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Optics</h1></header><p>Introduction to Optics, it&#x27;s core concepts, architecture, process, and implementation.</p><hr><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Migrating to v2? Go <a href="https://docs.celo.org/celo-codebase/protocol/bridging/migrating-to-optics-v2" target="_blank" rel="noopener noreferrer">here</a> to learn how to migrate from v1.</p></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="what-is-optics">What is Optics?<a class="hash-link" href="#what-is-optics" title="Enlace directo al encabezado">​</a></h2><p>Optics is a new design for radically cheaper cross-chain communication without header verification. We expect operating Optics to cut 90% of gas costs compared to a traditional header relay. To accomplish this, we took inspiration from optimistic systems (a la Optimistic Roll-ups). Optics features many of the features we prize in an optimistic mechanism, like public verification, low gas fees, broad participation, but has a slightly different security model. </p><p>Optics will form the base layer of a cross-chain communication network that provides fast, cheap communication for all smart contract chains and rollups. It relies only on widely-available cryptographic primitives (unlike header relays), has a latency of a few hours (rather than an ORU’s one week latency), and imposes only about 120,000 gas overhead on message senders.</p><p>Optics has been designed for ease of implementation in any blockchain that supports user-defined computations. We will provide initial Solidity implementations of the on-chain contracts, and Rust implementations of the off-chain system agents. We aim to follow up with Rust implementations of the on-chain contracts targeting Near and Solana later this year.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="building-intuition-for-optics">Building Intuition for Optics<a class="hash-link" href="#building-intuition-for-optics" title="Enlace directo al encabezado">​</a></h2><p>Optics works something like a notary service.</p><img width="1172" alt="optics-notary" src="https://user-images.githubusercontent.com/2653576/115466701-4a3c9880-a1e5-11eb-87e3-ae1cbab49b0b.png"><p>The sending (or “home”) chain produces a series of documents (&quot;messages&quot;) that needs notarization. A notary (called the “updater”) is contracted to sign it. The notary can produce a fraudulent copy, but they will be punished by having their bond and license publicly revoked. When this happens, everyone relying on the notary learns that the notary is malicious. All the notary&#x27;s customers can immediately block the notary and prevent any malicious access to their accounts.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="how-does-optics-work">How does Optics work?<a class="hash-link" href="#how-does-optics-work" title="Enlace directo al encabezado">​</a></h2><p>Optics is patterned after optimistic systems. It sees an attestation of some data, and accepts it as valid after a timer elapses. While the timer is running, honest participants have a chance to respond to the attestation and/or submit fraud proofs. </p><p>Unlike most optimistic systems, Optics spans multiple chains. The sending chain is the source of truth, and contains the “Home” contract where messages are enqueued. Messages are committed to in a merkle tree (the “message tree”). The root of this tree is notarized by the updater and relayed to the receiving chain in an “update”. Updates are signed by the updater. They commit to the previous root and a new root. </p><p>Any chain can maintain a “Replica” contract, which holds knowledge of the updater and the current root. Signed updates are held by the Replica, and accepted after a timeout. The Replica effectively replays a series of updates to reach the same root as the Home chain. Because the root commits to the message tree, once the root has been transmitted this way, the message can be proven and processed.</p><p>This leaves open the possibility that the Updater signs a fraudulent update. Unlike an optimistic rollup, Optics permits fraud. This is the single most important change to the security model. Importantly, fraud can always be proven to the Home contract on the sending chain. Because of this, the updater must submit a bonded stake on the sending chain. Fraud can always be proven on the sending chain, and the bond can be slashed as punishment. </p><p>Unfortunately, certain types of fraud can&#x27;t be objectively proven on the receiving chain; Replicas can&#x27;t know which messages the home chain intended to send and therefore can&#x27;t check message tree validity in all cases. However, if a message is falsified by an Updater and submitted to the Replica, that update is public. This means that any honest actor can prove this fraud on the original Home contract and cause slashing. There is no way to hide fraud. </p><p>In addition, because the Replica waits to process messages, Optics guarantees that honest dapps can always prevent processing of dishonest messages. Fraud is always public knowledge before the fraudulent message is processed. In this sense, Optics (like atomic swaps and other locally verified systems) includes a requirement for honest users to stay online. We have built a robust system for delegating this responsibility.</p><p>All off-chain observers can be immediately convinced of fraud (as they can check the home chain). This means that the validity of a message sent by Optics is not 100% guaranteed. </p><p>Instead, Optics guarantees the following:</p><ul><li><p>Fraud is costly</p></li><li><p>All users can learn about fraud</p></li><li><p>All users can block a fraudulent message before they are accepted</p><p>  In other words, rather than using a globally verifiable fraud-proof, Optics relies on local verification by participants. This tradeoff allows Optics to save 90% on gas fees compared to pessimistic relays, while still maintaining a high degree of security.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="optics-architecture">Optics Architecture<a class="hash-link" href="#optics-architecture" title="Enlace directo al encabezado">​</a></h2><p>Optics contains several on-chain and off-chain components. For convenience, we’ll be referring to the Home and Replica as contracts, when in fact they are several contracts working together.</p><img width="638" alt="optics-on-chain-components" src="https://user-images.githubusercontent.com/2653576/115467293-2463c380-a1e6-11eb-80be-348714044eb4.png"><h2 class="anchor anchorWithStickyNavbar_y2LR" id="on-chain-contracts">On-chain (Contracts)<a class="hash-link" href="#on-chain-contracts" title="Enlace directo al encabezado">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="home">Home<a class="hash-link" href="#home" title="Enlace directo al encabezado">​</a></h3><p>The home contract is responsible for managing production of the message tree and holding custody of the updater bond. </p><p><strong>It performs the following functions:</strong></p><ul><li>Expose a &quot;send message&quot; API to other contracts on the home chain</li><li>Enforce the message format</li><li>Commit messages to the message tree</li><li>Maintain a queue of tree roots</li><li>Slash the updater&#x27;s bond<ul><li>Double-update proofs</li><li>Improper update proofs</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="replica">Replica<a class="hash-link" href="#replica" title="Enlace directo al encabezado">​</a></h3><p>The replica contract is responsible for managing optimistic replication and dispatching messages to end recipients. </p><p><strong>It performs the following functions:</strong></p><ul><li>Maintain a queue of pending updates</li><li>Finalize updates as their timeouts elapse</li><li>Accept double-update proofs</li><li>Validate message inclusion proofs</li><li>Enforce the message format</li><li>Ensure messages are processed in order</li><li>Dispatch messages to their destination</li><li>Off-chain (Agents)</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="updater">Updater<a class="hash-link" href="#updater" title="Enlace directo al encabezado">​</a></h3><p>The updater is responsible for signing attestations of new roots. </p><p><strong>It is an off-chain actor that does the following:</strong></p><ul><li>Observe the home chain contract</li><li>Sign attestations to new roots</li><li>Publish the signed attestation to the home chain</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="watcher">Watcher<a class="hash-link" href="#watcher" title="Enlace directo al encabezado">​</a></h3><p>The watcher observes the Updater&#x27;s interactions with the Home contract (by watching the Home contract) and reacts to malicious or faulty attestations. It also observes any number of replicas to ensure the Updater does not bypass the Home and go straight to a replica. </p><p><strong>It is an off-chain actor that does the following:</strong></p><ul><li>Observe the home</li><li>Observe 1 or more replicas</li><li>Maintain a DB of seen updates</li><li>Submit double-update proofs</li><li>Submit invalid update proofs</li><li>If configured, issue an emergency halt transaction</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="relayer">Relayer<a class="hash-link" href="#relayer" title="Enlace directo al encabezado">​</a></h3><p>The relayer forwards updates from the home to one or more replicas. </p><p><strong>It is an off-chain actor that does the following:</strong></p><ul><li>Observe the home</li><li>Observe 1 or more replicas</li><li>Polls home for new signed updates (since replica&#x27;s current root) and submits them to replica</li><li>Polls replica for confirmable updates (that have passed their optimistic time window) and confirms if available (updating replica&#x27;s current root)</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="processor">Processor<a class="hash-link" href="#processor" title="Enlace directo al encabezado">​</a></h3><p>The processor proves the validity of pending messages and sends them to end recipients. </p><p><strong>It is an off-chain actor that does the following:</strong></p><ul><li>Observe the home</li><li>Maintain local merkle tree with all leaves</li><li>Observe 1 or more replicas</li><li>Maintain list of messages corresponding to each leaf</li><li>Generate and submit merkle proofs for pending (unproven) messages</li><li>Dispatch proven messages to end recipients</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="how-optics-passes-messages-between-chains">How Optics passes messages between chains<a class="hash-link" href="#how-optics-passes-messages-between-chains" title="Enlace directo al encabezado">​</a></h2><img width="951" alt="optics-messages-between-chains" src="https://user-images.githubusercontent.com/2653576/115468191-925cba80-a1e7-11eb-85a6-032539a7004f.png"><p>Optics creates an authenticated data structure on a home chain, and relays updates to that data structure on any number of replicas. As a result, the home chain and all replicas will agree on the state of the data structure. By embedding data (&quot;messages&quot;) in this data structure we can propagate it between chains with a high degree of confidence.</p><p>The home chain enforces rules on the creation of this data structure. In the current design, this data structure is a sparse merkle tree based on the design used in the eth2 deposit contract. This tree commits to the vector of all previous messages. The home chain enforces an addressing and message scheme for messages and calculates the tree root. This root will be propagated to the replicas. The home chain maintains a queue of roots (one for each message).</p><p>The home chain elects an &quot;updater&quot; that must attest to the state of the message tree. The updater places a bond on the home chain and is required to periodically sign attestations (updates or U). Each attestation contains the root from the previous attestation (U_prev), and a new root (U_new).</p><p>The home chain slashes when it sees two conflicting updates (U_i and U_i&#x27; where U_i_prev == U_i&#x27;_prev &amp;&amp; U_i_new != U_i&#x27;_new) or a single update where U_new is not an element of the queue. The new root MUST be a member of the queue. E.g a list of updates U_1...U_i should follow the form <!-- -->[(A, B), (B, C), (C, D)...]<!-- -->.</p><p>Semantically, updates represent a batch commitment to the messages between the two roots. Updates contain one or more messages that ought to be propagated to the replica chain. Updates may occur at any frequency, as often as once per message. Because updates are chain-independent, any home chain update may be presented to any replica, and any replica update may be presented to the home chain. In other words, data availability of signed updates is guaranteed by each chain.</p><p>Before accepting an update, a replica places it into a queue of pending updates. Each update must wait for some time parameter before being accepted. While a replica can&#x27;t know that an update is certainly valid, the waiting system guarantees that fraud is publicly visible on the home chain before being accepted by the replica. In other words, the security guarantee of the system is that all frauds may be published by any participant, all published frauds may be slashed, and all participants have a window to react to any fraud. Therefore updates that are not blacklisted by participants are sufficiently trustworthy for the replica to accept.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="optical-channels-for-cross-chain-communication">Optical Channels for Cross-Chain Communication<a class="hash-link" href="#optical-channels-for-cross-chain-communication" title="Enlace directo al encabezado">​</a></h2><p>Optics sends messages from one chain to another in the form of raw bytes. A cross-chain application that wishes to use Optics will need to define the rules for sending and receiving messages for its use case.</p><p>Each cross-chain application must implement its own messaging protocol. By convention, we call the contracts that implement this protocol the application&#x27;s Router contracts. Their function is broadly similar to routers in local networks. They ensure that incoming and outgoing messages are in the protocol-defined format, and facilitate handling and dispatch.</p><p><strong>These Router contracts must:</strong></p><ul><li><p>maintain a permissioned set of the contract(s) on remote chains from which it will accept messages via Optics — this could be a single owner of the application on one chain; it could be a registry of other applications implementing the same rules on various chains</p></li><li><p>encode messages in a standardized format, so they can be decoded by the Router contract on the destination chain</p></li><li><p>handle messages from remote Router contracts</p></li><li><p>dispatch messages to remote Router contracts</p><p>  By implementing these pieces of functionality within a Router contract and deploying it across multiple chains, we create a working cross-chain application using a common language and set of rules. Applications of this kind may use Optics as the cross-chain courier for sending and receiving messages to each other.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="benefits-and-trade-offs-of-the-optics-architecture">Benefits and Trade-offs of the Optics Architecture<a class="hash-link" href="#benefits-and-trade-offs-of-the-optics-architecture" title="Enlace directo al encabezado">​</a></h2><table><thead><tr><th><strong>Benefits</strong></th><th><strong>Challenges</strong></th></tr></thead><tbody><tr><td>Broadcast channel</td><td>1-of-N fraud-proof trust model</td></tr><tr><td>Cheap</td><td>Liveness failure if updater goes down</td></tr><tr><td>One-solution fits all</td><td>Updater could voluntarily forfeit bond to try to pass forged messages</td></tr><tr><td>Simple</td><td> </td></tr></tbody></table><p>The benefit of Optics is that the broadcast channel allows for a single-producer, multi-consumer model. This ensures that 1 accumulator can communicate with any number of receiving chains. It’s also much cheaper than other options, allowing updates and proofs to cost &lt;100k gas and be checked by only 1 signature. With Optics, one-solution fits all meaning that constraints on receiving chains are minimal (1 hash function + 1 signature check). There is no implementation or security difference between Proof of Stake and Proof of Work chains.  There is also many fewer LoC than a Relay, much lower design maintenance overhead, and much less expertise required to maintain and operate.</p><p>We’ve been careful to address all concerns with the Optics system and have designed solutions that allow for optimal speed, cost, and security of the network. For example, we rely on fraud publication rather than fraud proofs to improve the speed and cost of sending messages. In this security model, any potential fraud is disincentivized and costly, and all participants will always learn of any potential fraud with plenty of time to mitigate harm.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://celo.crowdin.com/celo-docs/es" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegación de páginas de documentos"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/es/celo-codebase/protocol/identity/randomness"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Celo Randomness</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/es/celo-codebase/protocol/plumo"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Plumo Ultralight Sync</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-optics" class="table-of-contents__link toc-highlight">What is Optics?</a></li><li><a href="#building-intuition-for-optics" class="table-of-contents__link toc-highlight">Building Intuition for Optics</a></li><li><a href="#how-does-optics-work" class="table-of-contents__link toc-highlight">How does Optics work?</a></li><li><a href="#optics-architecture" class="table-of-contents__link toc-highlight">Optics Architecture</a></li><li><a href="#on-chain-contracts" class="table-of-contents__link toc-highlight">On-chain (Contracts)</a><ul><li><a href="#home" class="table-of-contents__link toc-highlight">Home</a></li><li><a href="#replica" class="table-of-contents__link toc-highlight">Replica</a></li><li><a href="#updater" class="table-of-contents__link toc-highlight">Updater</a></li><li><a href="#watcher" class="table-of-contents__link toc-highlight">Watcher</a></li><li><a href="#relayer" class="table-of-contents__link toc-highlight">Relayer</a></li><li><a href="#processor" class="table-of-contents__link toc-highlight">Processor</a></li></ul></li><li><a href="#how-optics-passes-messages-between-chains" class="table-of-contents__link toc-highlight">How Optics passes messages between chains</a></li><li><a href="#optical-channels-for-cross-chain-communication" class="table-of-contents__link toc-highlight">Optical Channels for Cross-Chain Communication</a></li><li><a href="#benefits-and-trade-offs-of-the-optics-architecture" class="table-of-contents__link toc-highlight">Benefits and Trade-offs of the Optics Architecture</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/es/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/es/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/zsc-ZTChain" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ZSC GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/es/community/contributing">Contributors</a></li><li class="footer__item"><a href="https://t.me/joinchat/F8Tdpoi_71E2NTFl" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/joinchat/F8Tdpoi_71E2NTFl" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/ZSC_Chain" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/joinchat/F8Tdpoi_71E2NTFl" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items"><li class="footer__item"><a href="https://zsc.one/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ZSC Dao<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://zsc.one/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Medium Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://en.zscscan.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ZSC Explore<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://zsc.one/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ZSC Hub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 ZSC Dao, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/es/assets/js/runtime~main.db9ef84a.js"></script>
<script src="/es/assets/js/main.090c3f00.js"></script>
</body>
</html>