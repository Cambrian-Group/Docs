"use strict";(self.webpackChunkcelo_docs=self.webpackChunkcelo_docs||[]).push([[3465],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||l;return n?a.createElement(h,o(o({ref:t},p),{},{components:n})):a.createElement(h,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var c=2;c<l;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},57523:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return u}});var a=n(83117),r=n(80102),l=(n(67294),n(3905)),o=["components"],i={title:"Celo Release Process for CeloCLI and ContractKit",description:"Details of the release process for updating CeloCLI and ContractKit on the Celo platform."},s="Release Process for CeloCLI and ContractKit",c={unversionedId:"community/release-process/base-cli-contractkit-dappkit-utils",id:"community/release-process/base-cli-contractkit-dappkit-utils",title:"Celo Release Process for CeloCLI and ContractKit",description:"Details of the release process for updating CeloCLI and ContractKit on the Celo platform.",source:"@site/docs/community/release-process/base-cli-contractkit-dappkit-utils.md",sourceDirName:"community/release-process",slug:"/community/release-process/base-cli-contractkit-dappkit-utils",permalink:"/community/release-process/base-cli-contractkit-dappkit-utils",editUrl:"https://github.com/celo-org/docs/edit/main/docs/community/release-process/base-cli-contractkit-dappkit-utils.md",tags:[],version:"current",frontMatter:{title:"Celo Release Process for CeloCLI and ContractKit",description:"Details of the release process for updating CeloCLI and ContractKit on the Celo platform."},sidebar:"contributors",previous:{title:"Celo Blockchain Client Release Process",permalink:"/community/release-process/blockchain-client"},next:{title:"Celo Attestation Service Release Process",permalink:"/community/release-process/attestation-service"}},p=[{value:"Versioning",id:"versioning",children:[],level:2},{value:"Identifying releases",id:"identifying-releases",children:[{value:"NPM",id:"npm",children:[],level:3},{value:"Github tags",id:"github-tags",children:[],level:3},{value:"Communication",id:"communication",children:[],level:3}],level:2},{value:"Build process",id:"build-process",children:[],level:2},{value:"Testing",id:"testing",children:[],level:2},{value:"Promotion process",id:"promotion-process",children:[{value:"Emergency patches",id:"emergency-patches",children:[],level:3}],level:2},{value:"Vulnerability Disclosure",id:"vulnerability-disclosure",children:[],level:2},{value:"Dependencies",id:"dependencies",children:[],level:2},{value:"Dependents",id:"dependents",children:[],level:2}],d={toc:p};function u(e){var t=e.components,n=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"release-process-for-celocli-and-contractkit"},"Release Process for CeloCLI and ContractKit"),(0,l.kt)("p",null,"Details of the release process for updating CeloCLI and ContractKit on the Celo platform."),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"versioning"},"Versioning"),(0,l.kt)("p",null,"Use the standard MAJOR.MINOR.PATCH semantic versioning scheme described at ",(0,l.kt)("a",{parentName:"p",href:"http://semver.org"},"semver.org"),"."),(0,l.kt)("p",null,"New releases can be expected as follows:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Major releases: approximately yearly"),(0,l.kt)("li",{parentName:"ul"},"Minor releases: approximately 8 times a year"),(0,l.kt)("li",{parentName:"ul"},"Patch releases: as needed")),(0,l.kt)("p",null,"Development builds will be identified as such: ",(0,l.kt)("inlineCode",{parentName:"p"},"x.y.z-dev"),", and will be published as ",(0,l.kt)("inlineCode",{parentName:"p"},"x.y.z")," when stable. "),(0,l.kt)("h2",{id:"identifying-releases"},"Identifying releases"),(0,l.kt)("h3",{id:"npm"},"NPM"),(0,l.kt)("p",null,"You can find the npm packages in the following places:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@celo/celocli"},"@celo/celocli")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@celo/contractkit"},"@celo/contractkit"))),(0,l.kt)("h3",{id:"github-tags"},"Github tags"),(0,l.kt)("p",null,"To identify the commits included in a specific release and see which new features were added or bugs fixed, please refer to the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/celo-org/celo-monorepo/releases"},"release notes")," in the monorepo. Also to keep track of continual updates to the stable and dev versions of the packages, each package has a ",(0,l.kt)("inlineCode",{parentName:"p"},"CHANGELOG.md")," file: ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/celo-org/celo-monorepo/blob/master/packages/cli/CHANGELOG.md"},"Celocli")," and ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/celo-org/celo-monorepo/blob/master/packages/sdk/CHANGELOG.md"},"Contractkit"),".\nAll releases should be tagged with the version number, e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"contractkit-vX.Y.Z"),". Each release should include a summary of the release contents, including links to pull requests and issues with detailed description of any notable changes."),(0,l.kt)("h3",{id:"communication"},"Communication"),(0,l.kt)("p",null,"The community will be notified of package updates through the following channels: "),(0,l.kt)("p",null,"For all releases:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Each package\u2019s ",(0,l.kt)("inlineCode",{parentName:"li"},"CHANGELOG.md")," file, as mentioned above"),(0,l.kt)("li",{parentName:"ul"},"Github releases page, as mentioned above"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://chat.celo.org"},"Discord"),": #developer-chat, #mainnet, and #sdk")),(0,l.kt)("p",null,"For major releases:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Twitter: ",(0,l.kt)("a",{parentName:"li",href:"https://twitter.com/CeloDevs"},"@CeloDevs")),(0,l.kt)("li",{parentName:"ul"},"Mailing list: cLabs\u2019 Tech Sync"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://forum.celo.org/"},"Celo Forum"))),(0,l.kt)("h2",{id:"build-process"},"Build process"),(0,l.kt)("p",null,"The packages are published by following the instructions ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/celo-org/celo-monorepo/blob/master/README-dev.md"},"here"),"."),(0,l.kt)("h2",{id:"testing"},"Testing"),(0,l.kt)("p",null,"All builds of these packages are automatically tested for performance and backwards compatibility in CI. Any regressions in these tests should be considered a blocker for a release.\nMinor and major releases are expected to go through additional rounds of manual testing as needed to verify behavior under stress conditions."),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Work in progress"))),(0,l.kt)("h2",{id:"promotion-process"},"Promotion process"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"For a patch release: The first step of this process should be a commit that changes the version number encoded in the source from ",(0,l.kt)("inlineCode",{parentName:"li"},"x.y.z-dev")," to ",(0,l.kt)("inlineCode",{parentName:"li"},"x.y.z+1-dev")," and the final step should change the published version number from ",(0,l.kt)("inlineCode",{parentName:"li"},"x.y.z-1"),"  to ",(0,l.kt)("inlineCode",{parentName:"li"},"x.y.z"),"."),(0,l.kt)("li",{parentName:"ul"},"For minor releases, the same process should be followed, except the ",(0,l.kt)("inlineCode",{parentName:"li"},"y")," value would increment, and the ",(0,l.kt)("inlineCode",{parentName:"li"},"z")," value would become 0."),(0,l.kt)("li",{parentName:"ul"},"For major releases, the same process should be followed, except the ",(0,l.kt)("inlineCode",{parentName:"li"},"x")," value would increment, and ",(0,l.kt)("inlineCode",{parentName:"li"},"y")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"z")," values would become 0.")),(0,l.kt)("p",null,"Only one commit should ever have a non-dev tag at any given version number. When that commit is created, a tag should be added along with release notes. Once the tag is published it should not be reused for any further release or changes."),(0,l.kt)("h3",{id:"emergency-patches"},"Emergency patches"),(0,l.kt)("p",null,"Bugs which affect the security, stability, or core functionality of the network may need to be released outside the standard release cycle. In this case, an emergency patch release should be created on top of all supported minor releases which contains the minimal change and corresponding test for the fix. An emergency patch retro will also be published, and will include information such as why the patch was necessary and what code changes it includes."),(0,l.kt)("h2",{id:"vulnerability-disclosure"},"Vulnerability Disclosure"),(0,l.kt)("p",null,"Vulnerabilities in any of these releases should be disclosed according to the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/celo-org/celo-blockchain/blob/master/SECURITY.md"},"security policy"),"."),(0,l.kt)("h2",{id:"dependencies"},"Dependencies"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"@celo/mobile - Dappkit relies on this"),(0,l.kt)("li",{parentName:"ul"},"Celocli"),(0,l.kt)("li",{parentName:"ul"},"All the packages under the ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/celo-org/celo-monorepo/tree/master/packages/sdk"},'"SDK" folder')," -- These all rely on each other quite bit, so triple check that these packages weren\u2019t affected by a change in another.")),(0,l.kt)("h2",{id:"dependents"},"Dependents"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Celocli"),(0,l.kt)("li",{parentName:"ul"},"All the packages under the ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/celo-org/celo-monorepo/tree/master/packages/sdk"},'"SDK" folder'))))}u.isMDXComponent=!0}}]);