"use strict";(self.webpackChunkcelo_docs=self.webpackChunkcelo_docs||[]).push([[6474],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return d}});var o=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=o.createContext({}),c=function(e){var t=o.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(a),d=n,u=m["".concat(s,".").concat(d)]||m[d]||h[d]||r;return a?o.createElement(u,i(i({ref:t},p),{},{components:a})):o.createElement(u,i({ref:t},p))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,i=new Array(r);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var c=2;c<r;c++)i[c]=a[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,a)}m.displayName="MDXCreateElement"},44210:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return m}});var o=a(83117),n=a(80102),r=(a(67294),a(3905)),i=["components"],l={title:"Deploy an NFT to Celo",description:"How to deploy ERC721 tokens (NFTs) on the Celo network using autogenerated code."},s="Deploy an NFT to Celo",c={unversionedId:"developer-resources/walkthroughs/no-code-erc721",id:"developer-resources/walkthroughs/no-code-erc721",title:"Deploy an NFT to Celo",description:"How to deploy ERC721 tokens (NFTs) on the Celo network using autogenerated code.",source:"@site/docs/developer-resources/walkthroughs/no-code-erc721.md",sourceDirName:"developer-resources/walkthroughs",slug:"/developer-resources/walkthroughs/no-code-erc721",permalink:"/developer-resources/walkthroughs/no-code-erc721",editUrl:"https://github.com/celo-org/docs/edit/main/docs/developer-resources/walkthroughs/no-code-erc721.md",tags:[],version:"current",frontMatter:{title:"Deploy an NFT to Celo",description:"How to deploy ERC721 tokens (NFTs) on the Celo network using autogenerated code."}},p=[{value:"Getting Started",id:"getting-started",children:[],level:2},{value:"Set up your wallet",id:"set-up-your-wallet",children:[],level:2},{value:"Prepare the NFT metadata",id:"prepare-the-nft-metadata",children:[],level:2},{value:"Design and Deploy the Smart Contracts",id:"design-and-deploy-the-smart-contracts",children:[],level:2}],h={toc:p};function m(e){var t=e.components,a=(0,n.Z)(e,i);return(0,r.kt)("wrapper",(0,o.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"deploy-an-nft-to-celo"},"Deploy an NFT to Celo"),(0,r.kt)("p",null,"How to deploy ERC721 tokens (NFTs) on the Celo network using autogenerated code. "),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("p",null,"In this example, we will be using IPFS for off-chain storage, but you can use whatever off-chain storage mechanism you want."),(0,r.kt)("h2",{id:"set-up-your-wallet"},"Set up your wallet"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Install ",(0,r.kt)("a",{parentName:"li",href:"https://metamask.io/"},"Metamask"),"."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"/getting-started/wallets/using-metamask-with-celo/manual-setup#adding-a-celo-network-to-metamask"},"Add the Celo network")," to Metamask. We suggest adding the Alfajores testnet to Metamask as well, so you can test contract deployments before deploying to mainnet."),(0,r.kt)("li",{parentName:"ol"},"Add a small amount of CELO to your Metamask account. In this example, we will deploy to the Alfajores testnet, so we need Alfajores CELO, which you can get from the faucet ",(0,r.kt)("a",{parentName:"li",href:"https://celo.org/developers/faucet"},"here"),".")),(0,r.kt)("h2",{id:"prepare-the-nft-metadata"},"Prepare the NFT metadata"),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Go to ",(0,r.kt)("a",{parentName:"li",href:"https://app.pinata.cloud/"},"https://app.pinata.cloud/")," and sign up for an account if you don\u2019t have one already. Pinata is a service that allows you to easily upload files to ",(0,r.kt)("a",{parentName:"li",href:"https://ipfs.io/"},"IPFS"),"."),(0,r.kt)("li",{parentName:"ol"},"Upload your NFT images to IPFS. Because storing data on a blockchain can be expensive, NFTs often reference off-chain data. In this example, We are creating a set of NFTs that reference pictures of trees. We uploaded all of the images of trees to IPFS individually. The names of the images correspond to the token ID. This isn\u2019t necessary, we just did it for convenience. Notice that each image has a corresponding CID hash, this is the unique identifier for that file or folder. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/pinata%20upload%20image%20list.png?raw=true",alt:"pinata upload image list.png"})),(0,r.kt)("li",{parentName:"ol"},"Once all of your images have been uploaded, you will need to prepare the token metadata in a new folder. ",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"We created a folder called \u201cprosper factory metadata\u201d. You can view the contents of the folder ",(0,r.kt)("a",{parentName:"li",href:"https://gateway.pinata.cloud/ipfs/QmdmA3gwGukA8QDPH7Ypq1WAoVfX82nx7SaXFvh1T7UmvZ"},"here"),". The folder contains 14 files, numbered 0-13. ",(0,r.kt)("strong",{parentName:"li"},"The names of these files are important.")," These file names correspond to the token ID of each NFT that will be created by the contract. Make sure that there are no extensions (.txt, .json, .jpeg, .png) on your files. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/ipfs%20folder%20contents.png?raw=true",alt:"ipfs folder contents.png"})),(0,r.kt)("li",{parentName:"ol"},"Click on one of the files. The files contain the NFT metadata. In this simple example, the metadata only contains a reference to the unique tree image. You can view the image in a browser that supports IPFS (we are using Brave) here. Each file should have a unique image reference. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/ipfs%20image%20metadata.png?raw=true",alt:"ipfs image metadata.png"})," You will need to create a similarly structured folder containing metadata for all of the NFTs that you want to create."))),(0,r.kt)("li",{parentName:"ol"},"Upload the folder containing all of the token metadata to IPFS. This will make your NFT data publicly available. We called ours \u201cprosper factory metadata\u201d. Note the CID of this folder. We will need it shortly. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/pinata%20prosper%20factory%20metadata%20folder.png?raw=true",alt:"pinata prosper factory metadata folder.png"}))),(0,r.kt)("h2",{id:"design-and-deploy-the-smart-contracts"},"Design and Deploy the Smart Contracts"),(0,r.kt)("ol",{start:8},(0,r.kt)("li",{parentName:"ol"},"Go to ",(0,r.kt)("a",{parentName:"li",href:"https://docs.openzeppelin.com/contracts/4.x/wizard"},"https://docs.openzeppelin.com/contracts/4.x/wizard")),(0,r.kt)("li",{parentName:"ol"},"Select ERC721 as your token choice."),(0,r.kt)("li",{parentName:"ol"},"Enter your token information.",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"We are calling our token the ProsperityFactory, symbol PF."),(0,r.kt)("li",{parentName:"ol"},"We entered the IPFS CID of our token metadata folder (prosper factory metadata) in the \u201cBase URI\u201d field. Be sure to add a trailing \u201c/\u201d to the base URI, the token ID will be appended to the end of the base URI to get the IPFS metadata file. So the complete Base URI for our NFT contract is ",(0,r.kt)("inlineCode",{parentName:"li"},"ipfs://QmdmA3gwGukA8QDPH7Ypq1WAoVfX82nx7SaXFvh1T7UmvZ/"),". Again, you can view the folder ",(0,r.kt)("a",{parentName:"li",href:"https://gateway.pinata.cloud/ipfs/QmdmA3gwGukA8QDPH7Ypq1WAoVfX82nx7SaXFvh1T7UmvZ"},"here"),"."),(0,r.kt)("li",{parentName:"ol"},"We made the token mintable and it will automatically increment the token IDs as the tokens are minted. The counter starts at 0 and adds 1 to each successive token. It is important that the file contents of the IPFS metadata folder are labeled accordingly (ie. 0-13) and correspond to the token IDs."),(0,r.kt)("li",{parentName:"ol"},"The contract is also marked Ownable, meaning that only the owner of the contract (which is initially set to the account that deploys the contract) can mint new NFTs. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/erc721%20filled%20settings.png?raw=true",alt:"erc721 filled settings.png"})))),(0,r.kt)("li",{parentName:"ol"},"Click \u201cOpen in Remix\u201d. Remix will pop open with your contract code already filled in."),(0,r.kt)("li",{parentName:"ol"},"Click the big blue button on the left side of Remix that says \u201cCompile contract-xxxx.sol\u201d. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/remix%20compile%20erc721.png?raw=true",alt:"remix compile erc721.png"})),(0,r.kt)("li",{parentName:"ol"},"Once the contract is compiled, click the Ethereum logo on the left side of the window. A new sidebar will appear. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/remix%20deploy%20page%20erc721.png?raw=true",alt:"remix deploy page erc721.png"})),(0,r.kt)("li",{parentName:"ol"},"In the \u201cEnvironment\u201d dropdown, select \u201cInjected Web3\u201d. This will connect Remix and Metamask. Make sure that Metamask is connected to the correct network. In this example, We are deploying to the Alfajores testnet, so we see a textbox below the dropdown that says ",(0,r.kt)("inlineCode",{parentName:"li"},"Custom (44787) network"),". 44787 is the network id for Alfajores. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/select%20injected%20web3.png?raw=true",alt:"select injected web3.png"})),(0,r.kt)("li",{parentName:"ol"},"Select the contract that you want to deploy. We titled the contract the ProsperityFactory. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/select%20erc721%20contract.png?raw=true",alt:"select erc721 contract.png"})),(0,r.kt)("li",{parentName:"ol"},"Click Deploy. Metamask will pop up asking you to confirm the transaction. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/remix%20deploy%20721%20tx.png?raw=true",alt:"remix deploy 721 tx.png"})),(0,r.kt)("li",{parentName:"ol"},"Once the contract is deployed, Remix will show a newly deployed contract on the bottom left corner of the window. Expand the ProsperityFactory dropdown to see all of the contract functions. You can see the deployed ProsperityFactory NFT contract ",(0,r.kt)("a",{parentName:"li",href:"https://alfajores-blockscout.celo-testnet.org/address/0xD8ea7beC4820dbC22aCf87EB0cCFE50203a45A6F/transactions"},"here"),". ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/remix%20721%20contract%20interface.png?raw=true",alt:"remix 721 contract interface.png"})),(0,r.kt)("li",{parentName:"ol"},"Let\u2019s mint the first NFT. To do that we will call the safeMint function. The safeMint function needs an account address as an input, so it knows who to mint the token to. I\u2019ll just enter the first Metamask address and click the orange button. Metamask will pop up, confirm the transaction. When the transaction is confirmed, this will have minted the first NFT, with token ID 0. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/safeMint.png?raw=true",alt:"safeMint.png"})),(0,r.kt)("li",{parentName:"ol"},"Check the token metadata. You can verify that the token was minted by calling the \u201ctokenURI\u201d function with the expected token ID. We call the contract with token ID 0 and it returns an IPFS reference. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/721%20read%20token%20uri.png?raw=true",alt:"721 read token uri.png"})),(0,r.kt)("li",{parentName:"ol"},"Navigating to this IPFS reference will show the token metadata for that NFT. ",(0,r.kt)("img",{parentName:"li",src:"https://github.com/critesjosh/images/blob/main/token_deploy_tutorials/ipfs%20token%20metadata.png?raw=true",alt:"ipfs token metadata.png"})),(0,r.kt)("li",{parentName:"ol"},"Going to that IPFS reference will show the image for the token.")),(0,r.kt)("p",null,"We went through the same process and minted all 14 NFTs from this contract."),(0,r.kt)("p",null,"That\u2019s it! You now know how to create your own NFT contract with corresponding metadata! "),(0,r.kt)("p",null,"Let me know what you end up building and reach out if you have any questions, ",(0,r.kt)("a",{parentName:"p",href:"https://twitter.com/critesjosh_"},"@critesjosh_")," on Twitter or joshc#0001 on Discord. Join the Celo discord at ",(0,r.kt)("a",{parentName:"p",href:"https://chat.celo.org"},"https://chat.celo.org"),"."))}m.isMDXComponent=!0}}]);